[gd_scene load_steps=10 format=4 uid="uid://5lq7qwq8odor"]

[ext_resource type="Texture2D" uid="uid://iaumk5tbsbn1" path="res://images/tile_24x24_I_opaque.png" id="1_5piyg"]
[ext_resource type="Script" path="res://Editor.gd" id="1_jy0y8"]
[ext_resource type="Script" path="res://PlacableTileEditor.gd" id="2_yidxy"]
[ext_resource type="Texture2D" uid="uid://c6klyd06qogb" path="res://images/tile_24x24_anti_opaque.png" id="3_0b8ah"]
[ext_resource type="TileSet" uid="uid://b64fhmdc5bn5" path="res://images/tile_map.tres" id="3_dhhqi"]
[ext_resource type="Texture2D" uid="uid://dh65qm2vqea6e" path="res://images/tile_24x24_empty.png" id="4_cbgpr"]
[ext_resource type="Script" path="res://EditorTileMap.gd" id="5_htd13"]
[ext_resource type="Texture2D" uid="uid://b3vpg8gtgmms5" path="res://images/tile_24x24_input_transparent.png" id="5_pb2q0"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_1pntj"]

[node name="Control" type="MarginContainer"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_jy0y8")

[node name="VBoxContainer" type="VBoxContainer" parent="."]
layout_mode = 2

[node name="Tools" type="HBoxContainer" parent="VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3

[node name="Background" type="Control" parent="VBoxContainer/Tools"]
layout_mode = 2
size_flags_horizontal = 6
size_flags_vertical = 4

[node name="Area2D" type="Area2D" parent="VBoxContainer/Tools/Background"]
scale = Vector2(3, 3)
script = ExtResource("2_yidxy")

[node name="CollisionShape2D" type="CollisionShape2D" parent="VBoxContainer/Tools/Background/Area2D"]
shape = SubResource("RectangleShape2D_1pntj")

[node name="BackgroundTile" type="Sprite2D" parent="VBoxContainer/Tools/Background/Area2D"]
texture = ExtResource("4_cbgpr")

[node name="Straight" type="Control" parent="VBoxContainer/Tools"]
layout_mode = 2
size_flags_horizontal = 6
size_flags_vertical = 4

[node name="Area2D" type="Area2D" parent="VBoxContainer/Tools/Straight"]
scale = Vector2(3, 3)
script = ExtResource("2_yidxy")

[node name="CollisionShape2D" type="CollisionShape2D" parent="VBoxContainer/Tools/Straight/Area2D"]
shape = SubResource("RectangleShape2D_1pntj")

[node name="StraightTile" type="Sprite2D" parent="VBoxContainer/Tools/Straight/Area2D"]
texture = ExtResource("1_5piyg")

[node name="Input" type="Control" parent="VBoxContainer/Tools"]
layout_mode = 2
size_flags_horizontal = 6
size_flags_vertical = 4

[node name="Area2D" type="Area2D" parent="VBoxContainer/Tools/Input"]
scale = Vector2(3, 3)
script = ExtResource("2_yidxy")

[node name="CollisionShape2D" type="CollisionShape2D" parent="VBoxContainer/Tools/Input/Area2D"]
shape = SubResource("RectangleShape2D_1pntj")

[node name="InputTile" type="Sprite2D" parent="VBoxContainer/Tools/Input/Area2D"]
texture = ExtResource("5_pb2q0")

[node name="Delete" type="Control" parent="VBoxContainer/Tools"]
layout_mode = 2
size_flags_horizontal = 6
size_flags_vertical = 4

[node name="Area2D" type="Area2D" parent="VBoxContainer/Tools/Delete"]
scale = Vector2(3, 3)
script = ExtResource("2_yidxy")

[node name="CollisionShape2D" type="CollisionShape2D" parent="VBoxContainer/Tools/Delete/Area2D"]
shape = SubResource("RectangleShape2D_1pntj")

[node name="StraightTile" type="Sprite2D" parent="VBoxContainer/Tools/Delete/Area2D"]
texture = ExtResource("3_0b8ah")

[node name="Back" type="Button" parent="VBoxContainer/Tools"]
layout_mode = 2
size_flags_horizontal = 3
text = "Back"

[node name="Save" type="Button" parent="VBoxContainer/Tools"]
layout_mode = 2
size_flags_horizontal = 3
text = "Save
"

[node name="TileMap" type="MarginContainer" parent="VBoxContainer"]
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 6
size_flags_stretch_ratio = 5.3
script = ExtResource("5_htd13")

[node name="background" type="TileMapLayer" parent="VBoxContainer/TileMap"]
use_parent_material = true
tile_map_data = PackedByteArray("AAD7//v/AAAAAAAAAAD7//z/AAAAAAAAAAD7//3/AAAAAAAAAAD7//7/AAAAAAAAAAD7////AAAAAAAAAAD7/wAAAAAAAAAAAAD7/wEAAAAAAAAAAAD7/wIAAAAAAAAAAAD7/wMAAAAAAAAAAAD7/wQAAAAAAAAAAAD8//v/AAAAAAAAAAD8//z/AAAAAAAAAAD8//3/AAAAAAAAAAD8//7/AAAAAAAAAAD8////AAAAAAAAAAD8/wAAAAAAAAAAAAD8/wEAAAAAAAAAAAD8/wIAAAAAAAAAAAD8/wMAAAAAAAAAAAD8/wQAAAAAAAAAAAD9//v/AAAAAAAAAAD9//z/AAAAAAAAAAD9//3/AAAAAAAAAAD9//7/AAAAAAAAAAD9////AAAAAAAAAAD9/wAAAAAAAAAAAAD9/wEAAAAAAAAAAAD9/wIAAAAAAAAAAAD9/wMAAAAAAAAAAAD9/wQAAAAAAAAAAAD+//v/AAAAAAAAAAD+//z/AAAAAAAAAAD+//3/AAAAAAAAAAD+//7/AAAAAAAAAAD+////AAAAAAAAAAD+/wAAAAAAAAAAAAD+/wEAAAAAAAAAAAD+/wIAAAAAAAAAAAD+/wMAAAAAAAAAAAD+/wQAAAAAAAAAAAD///v/AAAAAAAAAAD///z/AAAAAAAAAAD///3/AAAAAAAAAAD///7/AAAAAAAAAAD/////AAAAAAAAAAD//wAAAAAAAAAAAAD//wEAAAAAAAAAAAD//wIAAAAAAAAAAAD//wMAAAAAAAAAAAD//wQAAAAAAAAAAAAAAPv/AAAAAAAAAAAAAPz/AAAAAAAAAAAAAP3/AAAAAAAAAAAAAP7/AAAAAAAAAAAAAP//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAQAAAAAAAAAAAABAPv/AAAAAAAAAAABAPz/AAAAAAAAAAABAP3/AAAAAAAAAAABAP7/AAAAAAAAAAABAP//AAAAAAAAAAABAAAAAAAAAAAAAAABAAEAAAAAAAAAAAABAAIAAAAAAAAAAAABAAMAAAAAAAAAAAABAAQAAAAAAAAAAAACAPv/AAAAAAAAAAACAPz/AAAAAAAAAAACAP3/AAAAAAAAAAACAP7/AAAAAAAAAAACAP//AAAAAAAAAAACAAAAAAAAAAAAAAACAAEAAAAAAAAAAAACAAIAAAAAAAAAAAACAAMAAAAAAAAAAAACAAQAAAAAAAAAAAADAPv/AAAAAAAAAAADAPz/AAAAAAAAAAADAP3/AAAAAAAAAAADAP7/AAAAAAAAAAADAP//AAAAAAAAAAADAAAAAAAAAAAAAAADAAEAAAAAAAAAAAADAAIAAAAAAAAAAAADAAMAAAAAAAAAAAADAAQAAAAAAAAAAAAEAPv/AAAAAAAAAAAEAPz/AAAAAAAAAAAEAP3/AAAAAAAAAAAEAP7/AAAAAAAAAAAEAP//AAAAAAAAAAAEAAAAAAAAAAAAAAAEAAEAAAAAAAAAAAAEAAIAAAAAAAAAAAAEAAMAAAAAAAAAAAAEAAQAAAAAAAAAAAD5//v/AAAAAAAAAAD5//z/AAAAAAAAAAD5//3/AAAAAAAAAAD5//7/AAAAAAAAAAD5////AAAAAAAAAAD5/wAAAAAAAAAAAAD5/wEAAAAAAAAAAAD5/wIAAAAAAAAAAAD5/wMAAAAAAAAAAAD5/wQAAAAAAAAAAAD6//v/AAAAAAAAAAD6//z/AAAAAAAAAAD6//3/AAAAAAAAAAD6//7/AAAAAAAAAAD6////AAAAAAAAAAD6/wAAAAAAAAAAAAD6/wEAAAAAAAAAAAD6/wIAAAAAAAAAAAD6/wMAAAAAAAAAAAD6/wQAAAAAAAAAAAAFAPv/AAAAAAAAAAAFAPz/AAAAAAAAAAAFAP3/AAAAAAAAAAAFAP7/AAAAAAAAAAAFAP//AAAAAAAAAAAFAAAAAAAAAAAAAAAFAAEAAAAAAAAAAAAFAAIAAAAAAAAAAAAFAAMAAAAAAAAAAAAFAAQAAAAAAAAAAAAGAPv/AAAAAAAAAAAGAPz/AAAAAAAAAAAGAP3/AAAAAAAAAAAGAP7/AAAAAAAAAAAGAP//AAAAAAAAAAAGAAAAAAAAAAAAAAAGAAEAAAAAAAAAAAAGAAIAAAAAAAAAAAAGAAMAAAAAAAAAAAAGAAQAAAAAAAAAAAA=")
tile_set = ExtResource("3_dhhqi")

[node name="tile" type="TileMapLayer" parent="VBoxContainer/TileMap"]
use_parent_material = true
tile_set = ExtResource("3_dhhqi")

[node name="tile_colour" type="TileMapLayer" parent="VBoxContainer/TileMap"]
use_parent_material = true
tile_set = ExtResource("3_dhhqi")

[node name="tile_hover" type="TileMapLayer" parent="VBoxContainer/TileMap"]
modulate = Color(1, 1, 1, 0.498039)
use_parent_material = true
tile_set = ExtResource("3_dhhqi")

[node name="SaveLevelDialog" type="FileDialog" parent="."]
position = Vector2i(75, 75)
size = Vector2i(478, 325)
popup_window = true
ok_button_text = "Save"
access = 1
root_subfolder = "levels"
filters = PackedStringArray("*.json; Json files")

[connection signal="gui_input" from="." to="." method="_on_gui_input"]
[connection signal="input_event" from="VBoxContainer/Tools/Background/Area2D" to="VBoxContainer/Tools/Background/Area2D" method="_on_input_event" binds= [Vector2i(0, 0)]]
[connection signal="input_event" from="VBoxContainer/Tools/Straight/Area2D" to="VBoxContainer/Tools/Straight/Area2D" method="_on_input_event" binds= [Vector2i(1, 0)]]
[connection signal="input_event" from="VBoxContainer/Tools/Input/Area2D" to="VBoxContainer/Tools/Input/Area2D" method="_on_input_event" binds= [Vector2i(0, 1)]]
[connection signal="input_event" from="VBoxContainer/Tools/Delete/Area2D" to="VBoxContainer/Tools/Delete/Area2D" method="_on_input_event" binds= [Vector2i(1, 3)]]
[connection signal="pressed" from="VBoxContainer/Tools/Back" to="." method="_on_back_pressed"]
[connection signal="pressed" from="VBoxContainer/Tools/Save" to="." method="_on_save_pressed"]
[connection signal="confirmed" from="SaveLevelDialog" to="." method="_on_save_level_dialog_confirmed"]
